# Base Neuron runtime (NO vLLM included)
FROM public.ecr.aws/neuron/pytorch-inference-neuronx:2.7.0-neuronx-py310-sdk2.24.1-ubuntu22.04

# Copy your repo (PR code)
WORKDIR /workspace/src
COPY . .

# Prepend repo to PYTHONPATH so imports see *this* vLLM code first
ENV PYTHONPATH=/workspace/src:${PYTHONPATH}

# Default command (will be overridden in Stage 4)
CMD ["python", "examples/offline_inference/neuron.py"]
